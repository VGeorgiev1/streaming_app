<!doctype html>
<html>
    <head>
        <script src="https://cdn.socket.io/socket.io-1.4.5.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <script type="module" src="./public/Broadcaster.js"></script>
        <!-- This adapter.js file de-prefixes the webkit* and moz* prefixed RTC
             methods. When RTC becomes a more solid standard, this adapter should no
             longer be necessary. -->
        <!-- <script src="https://webrtc.googlecode.com/svn/trunk/samples/js/base/adapter.js"></script> -->
        <style>
            html, body { 
                background-color: #333; 
            }
            video {
                width:  320px;
                height:  240px;
                border:  1px solid black;
            }
            audio::-webkit-media-controls-mute-button {
                display:none;
            }
        </style>
        
    </head>
    <script type="module">
        import Broadcaster from './public/Broadcaster.js'
        import Viewer from './public/Viewer.js'
        window.Broadcaster = Broadcaster
        var SIGNALING_SERVER = "http://localhost";
        $('#broadcaster').click((e)=>{
            e.preventDefault()
            $('#broadcaster').hide()
            $('#viewer').hide()
            let connection = new Broadcaster(SIGNALING_SERVER,null)
        })
        $('#viewer').click((e)=>{
            e.preventDefault()
            $('#viewer').hide()
            $('#broadcaster').hide()
            let viewer = new Viewer(SIGNALING_SERVER,null, {"viewer":true})
        })
    </script>
    <body >
        <button id="viewer">Viewer</button>
        <button id="broadcaster">Broadcaster</button>

    </body>
</html>
