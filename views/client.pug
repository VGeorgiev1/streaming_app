doctype html
html
  head
    script(src='https://cdn.socket.io/socket.io-1.4.5.js')
    script(src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js')
    script(type='module', src='./public/Broadcaster.js')
    style.
      html, body {
      background-color: #333;
      }
      video {
      width:  320px;
      height:  240px;
      border:  1px solid black;
      }
      audio::-webkit-media-controls-mute-button {
      display:none;
      }
    script(type='module').
      import Broadcaster from './public/Broadcaster.js'
      import Viewer from './public/Viewer.js'
      window.Broadcaster = Broadcaster
      var SIGNALING_SERVER = "http://localhost";
      $('#broadcaster').click((e)=>{
      e.preventDefault()
      $('#broadcaster').hide()
      $('#viewer').hide()
      let connection = new Broadcaster(SIGNALING_SERVER,null)
      })
      $('#viewer').click((e)=>{
      e.preventDefault()
      $('#viewer').hide()
      $('#broadcaster').hide()
      let viewer = new Viewer(SIGNALING_SERVER,null, {"viewer":true})
      })
  body
    button#viewer Viewer
    button#broadcaster Broadcaster
